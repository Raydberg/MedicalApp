@model MedicalApp.Models.Medico

@{
    ViewData["Title"] = "Registrar Médico";
}

<h1>Registrar Nuevo Médico</h1>

@if (ViewBag.Mensaje != null)
{
    <div class="alert @(ViewBag.Mensaje == "1" ? "alert-success" : "alert-danger")">
        @(ViewBag.Mensaje == "1" ? "Médico registrado correctamente" : "Error al registrar médico")
    </div>
}

<div class="row">
    <div class="col-md-6">
        <form asp-action="Agregar" method="post">
            <div class="form-group mb-3">
                <label asp-for="Codmed" class="control-label">Código</label>
                <input asp-for="Codmed" class="form-control" />
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="Nommed" class="control-label">Nombre</label>
                <input asp-for="Nommed" class="form-control" />
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="Codesp" class="control-label">Especialidad</label>
                <select asp-for="Codesp" class="form-control">
                    <option value="">-- Seleccione una especialidad --</option>
                    @foreach (var esp in ViewBag.Especialidades)
                    {
                        <option value="@esp.Codesp">@esp.Nombre</option>
                    }
                </select>
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="AnioColegiatura" class="control-label">Año de Colegiatura</label>
                <input asp-for="AnioColegiatura" class="form-control" type="number" min="1900" max="2099" />
            </div>
            
            <div class="form-group mb-3">
                <label asp-for="Coddis" class="control-label">Código de Distrito</label>
                <input asp-for="Coddis" class="form-control" />
            </div>
            
            <div class="form-group mt-4">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a asp-action="Index" class="btn btn-secondary">Volver</a>
            </div>
        </form>
    </div>
</div>